Dotfiles Testing Report
======================

Host: {{ inventory_hostname }}
Date: {{ ansible_date_time.iso8601 }}

System Information
------------------
OS: {{ ansible_distribution }} {{ ansible_distribution_version }}
Architecture: {{ ansible_architecture }}
Kernel: {{ ansible_kernel }}
Python: {{ ansible_python_version }}

Chezmoi Installation
--------------------
Version: {{ chezmoi_version.stdout | default('Not installed') }}
Binary: {{ chezmoi_binary.stat.path | default('Not found') }}

Test Results
------------
Dry-run Status: {{ 'PASSED' if chezmoi_dryrun.rc == 0 else 'FAILED' }}
Exit Code: {{ chezmoi_dryrun.rc | default('N/A') }}

{% if chezmoi_dryrun.stdout %}
Dry-run Output:
{{ chezmoi_dryrun.stdout }}
{% endif %}

{% if chezmoi_dryrun.stderr %}
Errors:
{{ chezmoi_dryrun.stderr }}
{% endif %}

Package Scripts
---------------
Package Script: {{ 'Found' if package_install_script.stat.exists else 'Not found' }}

Verification
------------
✓ Chezmoi installed successfully
✓ Dotfiles repository accessible
{{ '✓' if chezmoi_dryrun.rc == 0 else '✗' }} Dry-run completed
{{ '✓' if package_install_script.stat.exists else '✗' }} Package scripts present

Next Steps
----------
1. Review dry-run output for any errors
2. Test actual application with: chezmoi apply
3. Verify installed packages
4. Test shell configuration

Report generated by Ansible at {{ ansible_date_time.iso8601 }}
